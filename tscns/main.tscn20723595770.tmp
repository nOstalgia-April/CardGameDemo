[gd_scene format=3 uid="uid://cyx5jl4c8qdsd"]

[ext_resource type="Script" uid="uid://d0ng80v2suka3" path="res://scripts/main.gd" id="1_jimh7"]
[ext_resource type="Texture2D" uid="uid://uvigbbleccrc" path="res://123.png" id="2_4ji1g"]
[ext_resource type="PackedScene" uid="uid://nedwk80y63vm" path="res://tscns/hand_view.tscn" id="2_d36ai"]
[ext_resource type="PackedScene" uid="uid://bv5h3cwm21ok7" path="res://tscns/board.tscn" id="3_fwypi"]
[ext_resource type="Script" uid="uid://cxrmr0j7edstx" path="res://scripts/turn_manager.gd" id="5_turn"]
[ext_resource type="Script" uid="uid://lo2p3p0yxlwm" path="res://scripts/energy_label.gd" id="6_energy"]
[ext_resource type="PackedScene" uid="uid://bugqndusvguwg" path="res://tscns/turn_end_button.tscn" id="7_4ji1g"]
[ext_resource type="Script" uid="uid://cv37b5w8m8nvk" path="res://scripts/flip_label.gd" id="7_flip"]
[ext_resource type="Script" uid="uid://cpdl8d45122ol" path="res://scripts/systems/fog_system.gd" id="9_fog"]
[ext_resource type="Script" uid="uid://24giiccc4jnx" path="res://scripts/presentation/hud_view.gd" id="14_hud"]

[node name="Battle" type="Node2D" unique_id=1557048967]
script = ExtResource("1_jimh7")

[node name="Sprite2D" type="Sprite2D" parent="." unique_id=1245972592]
position = Vector2(-926, 697)
scale = Vector2(0.37, 0.37)
texture = ExtResource("2_4ji1g")
region_enabled = true
region_rect = Rect2(0, 0, 2020.1237, 1689.0928)

[node name="Root" type="Control" parent="." unique_id=286232410]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="HandView" parent="Root" unique_id=140155012 instance=ExtResource("2_d36ai")]
unique_name_in_owner = true
layout_mode = 0
offset_left = 167.0
offset_top = 799.0
offset_right = 1367.0
offset_bottom = 1119.0

[node name="Board" parent="Root" unique_id=1133862191 instance=ExtResource("3_fwypi")]
unique_name_in_owner = true
layout_mode = 1
offset_left = 474.0
offset_top = 96.0
offset_right = 474.0
offset_bottom = 96.0
fog_system_path = NodePath("../../FogSystem")

[node name="HUD" type="Control" parent="Root" unique_id=2047279455]
anchors_preset = 0
offset_left = 24.0
offset_top = 24.0
offset_right = 424.0
offset_bottom = 80.0
script = ExtResource("14_hud")
turn_manager_path = NodePath("../../TurnManager")

[node name="HBoxContainer" type="HBoxContainer" parent="Root/HUD" unique_id=1176505444]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="EnergyLabel" type="Label" parent="Root/HUD/HBoxContainer" unique_id=1857641326]
unique_name_in_owner = true
layout_mode = 2
text = "行动点：0/0"
script = ExtResource("6_energy")

[node name="FlipLabel" type="Label" parent="Root/HUD/HBoxContainer" unique_id=1185459006]
unique_name_in_owner = true
layout_mode = 2
text = "翻牌：0"
script = ExtResource("7_flip")

[node name="TurnEndButton" parent="Root/HUD" unique_id=2051604309 instance=ExtResource("7_4ji1g")]
layout_mode = 1
offset_left = 1215.0
offset_top = 552.0
offset_right = 935.0
offset_bottom = 552.0
turn_manager_path = NodePath("../../../TurnManager")

[node name="TurnManager" type="Node2D" parent="." unique_id=633090675]
unique_name_in_owner = true
script = ExtResource("5_turn")
board_path = NodePath("../Root/Board")

[node name="FogSystem" type="Node" parent="." unique_id=77301692]
script = ExtResource("9_fog")
